(this["webpackJsonpmy-new-app"]=this["webpackJsonpmy-new-app"]||[]).push([[4],{336:function(e,a,s){e.exports={dialogs:"Dialogs_dialogs__2T2Xu"}},337:function(e,a,s){e.exports={dialogPreview:"DialogPreview_dialogPreview__bjA9_",dialogPreview__userPhoto:"DialogPreview_dialogPreview__userPhoto__4lNhC",dialogPreview_right:"DialogPreview_dialogPreview_right__aDvIU",dialogPreview__name:"DialogPreview_dialogPreview__name__2CSsh",dialogPreview__lastMessage:"DialogPreview_dialogPreview__lastMessage__18HSx"}},338:function(e,a,s){e.exports={dialog:"Dialog_dialog__3jgqj",dialog__header:"Dialog_dialog__header__20Pbn",dialog__userPhoto:"Dialog_dialog__userPhoto__10Gre",dialog__userFirstName:"Dialog_dialog__userFirstName__2fjT9",dialog__messages:"Dialog_dialog__messages__i-hs4",dialog__message:"Dialog_dialog__message__1AajI"}},339:function(e,a,s){e.exports={form:"AddMessageForm_form__1zYRa",form__textarea:"AddMessageForm_form__textarea__5ENpc",form__btn:"AddMessageForm_form__btn__18w0y"}},341:function(e,a,s){"use strict";s.r(a);var t=s(0),i=s.n(t),r=s(336),l=s.n(r),o=s(337),_=s.n(o),n=s(25),g=s(44),m=s.n(g),d=function(e){var a=e.id,s=e.name,t=e.lastMessage,r="/dialogs/".concat(a);return t?i.a.createElement(n.b,{className:_.a.dialogPreview,to:r},i.a.createElement("img",{className:_.a.dialogPreview__userPhoto,src:m.a,alt:"user"}),i.a.createElement("div",{className:_.a.dialogPreview_right},i.a.createElement("span",{className:_.a.dialogPreview__name},s),i.a.createElement("span",{className:_.a.dialogPreview__lastMessage},t.length>=45?"".concat(t.slice(0,47),"..."):t))):i.a.createElement("div",null)},c=s(338),u=s.n(c),v=s(339),P=s.n(v),f=s(100),w=s(143),h=s(29),p=Object(w.a)({form:"dialogsAddMessageForm"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit,className:P.a.form},i.a.createElement(f.a,{className:P.a.form__textarea,component:h.b,name:"newMessageText",validate:[],placeholder:"Write a message..."}),i.a.createElement("button",{className:P.a.form__btn},"Send"))})),E=function(e){var a=e.userId,s=e.currentDialogData,t=e.sendMessage,r=a&&s.messages.map((function(e){return i.a.createElement("div",{className:u.a.dialog__message},e)}));return i.a.createElement("div",{className:u.a.dialog},i.a.createElement(n.b,{className:u.a.dialog__header,to:"/*"},i.a.createElement("img",{className:u.a.dialog__userPhoto,src:m.a,alt:"user"}),i.a.createElement("span",{className:u.a.dialog__userFirstName},s.name)),i.a.createElement("div",{className:u.a.dialog__messages},r),i.a.createElement(p,{onSubmit:function(e){t(e.newMessageText,a-1),e.newMessageText=""}}))},N=function(e){var a=e.match,s=e.dialogs,t=e.sendMessage,r=a.params.userId,o=r&&s.filter((function(e,a){return a+1==r}))[0],_=s.map((function(e,a){return i.a.createElement(d,{key:a,id:a+1,name:e.name,lastMessage:e.messages.length&&e.messages[e.messages.length-1]})}));return i.a.createElement("div",{className:l.a.dialogs},!r&&i.a.createElement("div",null,_),r&&i.a.createElement(E,{userId:r,currentDialogData:o,sendMessage:t}))},b=s(15),D=s(33),M=s(8),x=s(142),j=s(12);a.default=Object(M.d)(Object(b.b)((function(e){return{dialogs:e.dialogsPage.dialogs,messages:e.dialogsPage.messages}}),{sendMessage:x.b}),j.g,D.a)(N)}}]);
//# sourceMappingURL=4.6b4f6617.chunk.js.map