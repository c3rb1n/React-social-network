{"version":3,"sources":["components/Dialogs/Dialogs.module.scss","components/Dialogs/DialogPreview/DialogPreview.module.scss","components/Dialogs/Dialog/Dialog.module.scss","components/Dialogs/Dialog/AddMessageForm/AddMessageForm.module.scss","components/Dialogs/DialogPreview/DialogPreview.jsx","components/Dialogs/Dialog/AddMessageForm/AddMessageForm.jsx","components/Dialogs/Dialog/Dialog.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogPreview","id","name","lastMessage","path","className","classes","dialogPreview","to","dialogPreview__userPhoto","src","userPhoto","alt","dialogPreview_right","dialogPreview__name","dialogPreview__lastMessage","length","slice","reduxForm","form","props","onSubmit","handleSubmit","Field","form__textarea","component","Textarea","validate","placeholder","form__btn","Dialog","userId","currentDialogData","sendMessage","messagesElements","messages","map","m","dialog__message","dialog","dialog__header","dialog__userPhoto","dialog__userFirstName","dialog__messages","values","newMessageText","Dialogs","match","dialogs","params","filter","d","index","dialogsElements","key","compose","connect","state","dialogsPage","withRouter","withAuthRedirect"],"mappings":"mGACAA,EAAOC,QAAU,CAAC,QAAU,2B,oBCA5BD,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,yBAA2B,gDAAgD,oBAAsB,2CAA2C,oBAAsB,2CAA2C,2BAA6B,oD,oBCAjTD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,eAAiB,+BAA+B,kBAAoB,kCAAkC,sBAAwB,sCAAsC,iBAAmB,iCAAiC,gBAAkB,kC,oBCA5RD,EAAOC,QAAU,CAAC,KAAO,6BAA6B,eAAiB,uCAAuC,UAAY,oC,yHCwB3GC,EApBO,SAAC,GAA6B,IAA5BC,EAA2B,EAA3BA,GAAIC,EAAuB,EAAvBA,KAAMC,EAAiB,EAAjBA,YACxBC,EAAI,mBAAeH,GAEzB,OAAIE,EAKA,kBAAC,IAAD,CAASE,UAAWC,IAAQC,cAAeC,GAAIJ,GAC3C,yBAAKC,UAAWC,IAAQG,yBAA0BC,IAAKC,IAAWC,IAAI,SACtE,yBAAKP,UAAWC,IAAQO,qBACpB,0BAAMR,UAAWC,IAAQQ,qBAAsBZ,GAC/C,0BAAMG,UAAWC,IAAQS,4BACpBZ,EAAYa,QAAU,GAAtB,UAA8Bb,EAAYc,MAAM,EAAG,IAAnD,OAA8Dd,KATpE,+B,8DCSAe,cAAU,CAACC,KAAM,yBAAjBD,EAbQ,SAAAE,GACnB,OACI,0BAAMC,SAAUD,EAAME,aAAcjB,UAAWC,IAAQa,MACnD,kBAACI,EAAA,EAAD,CAAOlB,UAAWC,IAAQkB,eACnBC,UAAWC,IACXxB,KAAK,iBACLyB,SAAU,GACVC,YAAY,uBACnB,4BAAQvB,UAAWC,IAAQuB,WAA3B,YCgBGC,EAvBA,SAAC,GAA8C,IAA7CC,EAA4C,EAA5CA,OAAQC,EAAoC,EAApCA,kBAAmBC,EAAiB,EAAjBA,YAClCC,EAAmBH,GACrBC,EAAkBG,SAASC,KAAI,SAAAC,GAAC,OAAI,yBAAKhC,UAAWC,IAAQgC,iBAAkBD,MAOlF,OACI,yBAAKhC,UAAWC,IAAQiC,QACpB,kBAAC,IAAD,CAASlC,UAAWC,IAAQkC,eAAgBhC,GAAG,MAC3C,yBAAKH,UAAWC,IAAQmC,kBAAmB/B,IAAKC,IAAWC,IAAI,SAC/D,0BAAMP,UAAWC,IAAQoC,uBAAwBV,EAAkB9B,OAEvE,yBAAKG,UAAWC,IAAQqC,kBACnBT,GAEL,kBAAC,EAAD,CAAgBb,SAdF,SAAAuB,GAClBX,EAAYW,EAAOC,eAAgBd,EAAS,GAC5Ca,EAAOC,eAAiB,QCajBC,EApBC,SAAC,GAAmC,IAAlCC,EAAiC,EAAjCA,MAAOC,EAA0B,EAA1BA,QAASf,EAAiB,EAAjBA,YACxBF,EAASgB,EAAME,OAAOlB,OACtBC,EAAoBD,GAAUiB,EAAQE,QAAO,SAACC,EAAGC,GAAJ,OAAcA,EAAQ,GAAKrB,KAAQ,GAEhFsB,EAAkBL,EAAQZ,KAAI,SAACe,EAAGC,GAAJ,OAChC,kBAAC,EAAD,CAAeE,IAAKF,EACLnD,GAAImD,EAAQ,EACZlD,KAAMiD,EAAEjD,KACRC,YAAagD,EAAEhB,SAASnB,QAAUmC,EAAEhB,SAASgB,EAAEhB,SAASnB,OAAS,QAEpF,OACI,yBAAKX,UAAWC,IAAQ0C,UAClBjB,GAAU,6BAAMsB,GACjBtB,GAAU,kBAAC,EAAD,CAAQA,OAAQA,EACRC,kBAAmBA,EACnBC,YAAaA,M,wCCN7BsB,sBACXC,aARoB,SAAAC,GACpB,MAAO,CACHT,QAASS,EAAMC,YAAYV,QAC3Bb,SAAUsB,EAAMC,YAAYvB,YAKP,CAACF,kBAC1B0B,IACAC,IAHWL,CAIbT","file":"static/js/4.6b4f6617.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2T2Xu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogPreview\":\"DialogPreview_dialogPreview__bjA9_\",\"dialogPreview__userPhoto\":\"DialogPreview_dialogPreview__userPhoto__4lNhC\",\"dialogPreview_right\":\"DialogPreview_dialogPreview_right__aDvIU\",\"dialogPreview__name\":\"DialogPreview_dialogPreview__name__2CSsh\",\"dialogPreview__lastMessage\":\"DialogPreview_dialogPreview__lastMessage__18HSx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__3jgqj\",\"dialog__header\":\"Dialog_dialog__header__20Pbn\",\"dialog__userPhoto\":\"Dialog_dialog__userPhoto__10Gre\",\"dialog__userFirstName\":\"Dialog_dialog__userFirstName__2fjT9\",\"dialog__messages\":\"Dialog_dialog__messages__i-hs4\",\"dialog__message\":\"Dialog_dialog__message__1AajI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"AddMessageForm_form__1zYRa\",\"form__textarea\":\"AddMessageForm_form__textarea__5ENpc\",\"form__btn\":\"AddMessageForm_form__btn__18w0y\"};","import React from \"react\";\r\nimport classes from \"./DialogPreview.module.scss\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../../assets/images/user.svg\";\r\n\r\nconst DialogPreview = ({id, name, lastMessage}) => {\r\n    const path = `/dialogs/${id}`;\r\n\r\n    if(!lastMessage) {\r\n        return <div/>\r\n    }\r\n\r\n    return (\r\n        <NavLink className={classes.dialogPreview} to={path}>\r\n            <img className={classes.dialogPreview__userPhoto} src={userPhoto} alt=\"user\"/>\r\n            <div className={classes.dialogPreview_right}>\r\n                <span className={classes.dialogPreview__name}>{name}</span>\r\n                <span className={classes.dialogPreview__lastMessage}>\r\n                    {lastMessage.length >= 45 ? `${lastMessage.slice(0, 47)}...` : lastMessage}\r\n                </span>\r\n            </div>\r\n        </NavLink>\r\n    );\r\n};\r\n\r\nexport default DialogPreview;","import React from \"react\";\r\nimport classes from \"./AddMessageForm.module.scss\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../../common/FormsControls/FormsControls\";\r\n\r\nconst AddMessageForm = props => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={classes.form}>\r\n            <Field className={classes.form__textarea}\r\n                   component={Textarea}\r\n                   name=\"newMessageText\"\r\n                   validate={[]}\r\n                   placeholder=\"Write a message...\"/>\r\n            <button className={classes.form__btn}>Send</button>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default reduxForm({form: \"dialogsAddMessageForm\"})(AddMessageForm);","import React from \"react\";\r\nimport classes from \"./Dialog.module.scss\";\r\nimport userPhoto from \"../../../assets/images/user.svg\";\r\nimport AddMessageForm from \"./AddMessageForm/AddMessageForm\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Dialog = ({userId, currentDialogData, sendMessage}) => {\r\n    const messagesElements = userId &&\r\n        currentDialogData.messages.map(m => <div className={classes.dialog__message}>{m}</div>);\r\n\r\n    const onSendMessage = values => {\r\n        sendMessage(values.newMessageText, userId - 1);\r\n        values.newMessageText = \"\";\r\n    };\r\n\r\n    return (\r\n        <div className={classes.dialog}>\r\n            <NavLink className={classes.dialog__header} to=\"/*\">\r\n                <img className={classes.dialog__userPhoto} src={userPhoto} alt=\"user\"/>\r\n                <span className={classes.dialog__userFirstName}>{currentDialogData.name}</span>\r\n            </NavLink>\r\n            <div className={classes.dialog__messages}>\r\n                {messagesElements}\r\n            </div>\r\n            <AddMessageForm onSubmit={onSendMessage}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dialog;","import React from \"react\";\r\nimport classes from \"./Dialogs.module.scss\";\r\nimport DialogPreview from \"./DialogPreview/DialogPreview\";\r\nimport Dialog from \"./Dialog/Dialog\";\r\n\r\nconst Dialogs = ({match, dialogs, sendMessage}) => {\r\n    const userId = match.params.userId;\r\n    const currentDialogData = userId && dialogs.filter((d, index) => index + 1 == userId)[0];\r\n\r\n    const dialogsElements = dialogs.map((d, index) =>\r\n        <DialogPreview key={index}\r\n                       id={index + 1}\r\n                       name={d.name}\r\n                       lastMessage={d.messages.length && d.messages[d.messages.length - 1]}/>);\r\n\r\n    return (\r\n        <div className={classes.dialogs}>\r\n            {!userId && <div>{dialogsElements}</div>}\r\n            {userId && <Dialog userId={userId}\r\n                               currentDialogData={currentDialogData}\r\n                               sendMessage={sendMessage}/>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dialogs;","import Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {sendMessage} from \"../../redux/dialogsPage-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        dialogs: state.dialogsPage.dialogs,\r\n        messages: state.dialogsPage.messages\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {sendMessage}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(Dialogs);"],"sourceRoot":""}